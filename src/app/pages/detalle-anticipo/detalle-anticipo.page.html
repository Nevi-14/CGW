<ion-content  class="ion-padding">
 <ion-grid style="height: 100%;">
  <ion-row style="height: 100%;">
 
    
    <ion-col size="6" style="height:100%;">
<ion-row  >
  <ion-col size="12"    >
    <ion-list  lines="none">
    
 
    <ion-grid >
      <ion-row>
      <ion-col size="12">
        <ion-toolbar>
      <h4 style="margin-left: 1rem;"><strong>DETALLE ANTICIPO</strong></h4>
           
 
         </ion-toolbar>
      </ion-col>
  <ion-col size="12">
    <ion-item>

      <ion-label class="custom-title">  
        Fecha
        <p class="subcustom-title">{{adelantosService.adelantoViatico.fechA_INICIAL | date }} / {{adelantosService.adelantoViatico.fechA_FINAL | date}}  </p>
       </ion-label>
    
    
     
    </ion-item>
  </ion-col>

        <ion-col size="6">
<ion-item>

  <ion-label class="custom-title">  
    Anticipo
    <p class="subcustom-title"># {{adelantosService.adelantoViatico.numerO_TRANSACCION}} </p>
   </ion-label>

 
</ion-item>
        </ion-col>
        <ion-col size="6">
          <ion-item>

            <ion-label class="custom-title">  
              Compañia
              <p class="subcustom-title">{{adelantosService.adelantoViatico.coD_COMPANIA}} </p>
             </ion-label>
          
 
          </ion-item>
        </ion-col>
        <ion-col size="6">
          <ion-item>
            <ion-label class="custom-title">  
              Cantidad Usuarios
              <p class="subcustom-title">{{totalLineas.length}}</p>
             </ion-label>
          


           
          </ion-item>
        </ion-col>
        <ion-col size="6">
         <ion-item>
          <ion-label class="custom-title">  
            Pendientes
            <p class="subcustom-title">{{lineasPendientes}}</p>
           </ion-label>
        

 
         </ion-item>
        </ion-col>
        <ion-col size="6">
       <ion-item>

        <ion-label class="custom-title">  
          Dispensado
          <p class="subcustom-title">{{adelantosService.adelantoViatico.monto | colones : 2 : '.' : ',' :  adelantosService.adelantoViatico.moneda }}</p>
         </ion-label>
      

 
          
       </ion-item>
        </ion-col>
        <ion-col size="6">
          <ion-item>
            <ion-label class="custom-title">  
              Consumido
              <p class="subcustom-title">{{adelantosService.adelantoViatico.utilizado | colones : 2 : '.' : ',' :  adelantosService.adelantoViatico.moneda }}</p>
             </ion-label>
          


            
          </ion-item>
           </ion-col>
    
      </ion-row>
      <ion-row  > 
        <ion-col size="12"  >
          <ion-toolbar>
   
            <h4 style="margin-left: 1rem;"><strong>Estadísticas</strong></h4>
           
            <ion-button (click)="mostrarEstadisiticas()"  fill="clear"  slot="end">
             <ion-icon slot="icon-only" size="large" color="primary" name="arrow-forward"></ion-icon>
            </ion-button>
           </ion-toolbar>
          
        </ion-col>
        <ion-col size="12">
          <canvas  id="barCanvas"    #barCanvas style="position: relative; height:100%;max-height: 35vh;min-height: 35vh; width:100%"></canvas>
        </ion-col>
      </ion-row>
     </ion-grid>


     
    </ion-list>
  </ion-col>

 
</ion-row>

      
    </ion-col>
 
    <ion-col size="6" style="height:100%;">

     <ion-grid >
      <ion-row>
        
        <ion-col size="12">
          <ion-segment [(ngModel)]="segment" (ionChange)="segmentChanged($event)" class="ion-padding">
            <ion-segment-button value="P">
         
            <span style="position: relative;"> 
              <ion-icon size="large" color="primary" name="time"></ion-icon>
              <ion-badge  style="position: absolute;top:0;right: -2rem;"  color="primary" mode="ios">{{p}}</ion-badge>
            </span>
            <ion-label  style="margin-top: 0.5rem;"><strong>Pendientes</strong></ion-label>
       
            </ion-segment-button>
            <ion-segment-button value="RA">
              <span style="position: relative;"> 
              <ion-icon  size="large" color="warning" name="alert-circle-outline"></ion-icon>
              <ion-badge style="position: absolute;top:0;right: -2rem;" color="primary" mode="ios">{{ra}}</ion-badge>
            </span>
              <ion-label   style="margin-top: 0.5rem;"><strong>Requieren Aprobación</strong></ion-label>
            </ion-segment-button>
            <ion-segment-button value="A">
              <span style="position: relative;"> 
              <ion-icon size="large" color="success"  name="checkmark-circle-outline"></ion-icon>
              <ion-badge  style="position: absolute;top:0;right: -2rem;" color="primary" mode="ios">{{a}}</ion-badge>
            </span>
              <ion-label   style="margin-top: 0.5rem;"><strong>Aprobadas</strong></ion-label>
            </ion-segment-button>
            <ion-segment-button value="R">
              <span style="position: relative;"> 
              <ion-icon  size="large" color="danger" name="close-circle-outline"></ion-icon>
              <ion-badge  style="position: absolute;top:0;right: -2rem;"  color="primary" mode="ios">{{r}}</ion-badge>
            </span>
              <ion-label  style="margin-top: 0.5rem;" ><strong>Rechazadas</strong></ion-label>
            </ion-segment-button>
          </ion-segment>
        </ion-col>
        <ion-col size="12">
<ion-list>
  <ion-item *ngIf="lineas.length == 0" >
    <ion-avatar slot="start" style="height: 2rem;width: 2rem;">
      <img src="assets/warning.svg" />
    </ion-avatar>
    <ion-label class="ion-text-uppercase"><strong>No hay datos que mostrar!..</strong></ion-label>

  </ion-item>
  <ion-item *ngFor="let linea of lineas" button (click)="lineaGastos(linea)" detail>
    <ion-avatar slot="start">
      <img src="assets/imgs/user.svg" />
    </ion-avatar>
    <ion-label>{{linea.usuario}}</ion-label>
<ion-label> <strong>Dispensado :</strong> {{linea.monto | colones : 2 : '.' : ',' :  adelantosService.adelantoViatico.moneda }}</ion-label>
<ion-label> <strong>Utilizado :</strong> {{linea.utilizado | colones : 2 : '.' : ',' :  adelantosService.adelantoViatico.moneda }}</ion-label>
 
  </ion-item>
</ion-list>
 
        </ion-col>
        <ion-col size="12" style="padding: 1rem;">
          
          <app-button  (click)="liquidacionAnticipo()"   label=" {{adelantosService.adelantoViatico.estatus == 'F' ?  'Mostrar Detalle Anticipo' : 'Liquidar Anticipo'}}"></app-button>
        </ion-col>
      </ion-row>
     </ion-grid>
 
 
    </ion-col>
  
  </ion-row>
 </ion-grid>
  
  </ion-content>
  <app-pie-pagina></app-pie-pagina>