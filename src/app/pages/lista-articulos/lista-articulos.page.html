<ion-header class="ion-no-border">

  <ion-toolbar >
    <ion-title class="ion-margin">Agregar un nuevo articulo</ion-title>
    <ion-grid >
<ion-row >

  <ion-col size="6">
    <ion-searchbar    mode="ios" placeholder="Buscar articulo" inputmode="text" (ionChange)="onSearchChange($event)"  debounce="250" ></ion-searchbar>
  </ion-col>
  <ion-col size="6">
    <ion-label style="margin-right: 0.5rem;">Este simbolo</ion-label>
    <ion-icon color="warning"  name="sparkles-outline"></ion-icon>
    <ion-label style="margin-left: 0.5rem;">significa que el producto se encuentra en nuestra lista de articulos a solicitar.</ion-label>
  </ion-col>
</ion-row>
 

 
    </ion-grid>
 
      </ion-toolbar>

</ion-header>

  <ion-content>

    <ion-grid  style="height: 100%;">
     


      <ion-row  style="height: 100%;">
    <ion-col size="6">

      <ion-list lines="none" class="fixed-content ">

        <ion-item  (click)="seccionarArticulo(articulo, i)" [attr.color]="i === selected ? 'primary' : ''"  *ngFor="let articulo of articulosService.articulos | filtro: textoBuscar:'ARTICULO' let i = index;">
          <ion-label><ion-badge color="warning" mode="ios" class="ion-margin-right">{{articulo.ARTICULO}}</ion-badge> {{articulo.DESCRIPCION}} </ion-label>
          <ion-icon color="warning" *ngIf="productInArray(articulo)" name="sparkles-outline"></ion-icon>
          
        </ion-item>
      </ion-list>

    </ion-col>
    <ion-col size="6">

      <ion-row >
        <ion-col  size="12">
          <ion-label>Descripcion</ion-label>
          <ion-input readonly="true" name="DESCRIPCION"  type="text" placeholder="descripcion" [(ngModel)]="articuloPostArray.articulo.DESCRIPCION"></ion-input>
  
  
        </ion-col>
        <ion-col  size="12" size-md="4">
  
          <ion-label>Articulo</ion-label>
                 <ion-input readonly="true" name="ARTICULO"  type="text" placeholder="articulo" [(ngModel)]="articuloPostArray.articulo.ARTICULO"></ion-input>
               
               </ion-col>
         
       
         
               <ion-col  size="12" size-md="4">
                 <ion-label>Precio</ion-label>
                 <ion-input name="PRECIO_UNITARIO"   (change)="actualizarValores()"   type="number" placeholder="precio" [(ngModel)]="articuloPostArray.articulo.PRECIO_UNITARIO"></ion-input>
               </ion-col>
         
               <ion-col  size="12" size-md="4">
                 <ion-label>Unidades</ion-label>
                 <ion-input  name="CANTIDAD_ORDENADA"    (change)="actualizarValores()"  type="number" placeholder="Unidades" [(ngModel)]="articuloPostArray.articulo.CANTIDAD_ORDENADA"></ion-input>
               </ion-col>
         
         
               <ion-col  size="12" size-md="4">
          <ion-label>% Desc.</ion-label>
          <ion-input name="PORC_DESCUENTO"  (change)="actualizarValores()"   type="number" placeholder="descuento" min="0"    [(ngModel)]="articuloPostArray.articulo.PORC_DESCUENTO"    ></ion-input>
  
        </ion-col>
        <ion-col  size="12" size-md="4">
          <ion-label>Monto Desc.</ion-label>
          <ion-input name="MONTO_DESCUENTO"   readonly="true"   type="text" placeholder="monto descuento"  [ngModel]="articuloPostArray.articulo.MONTO_DESCUENTO | colones" (ngModelChange)="articuloPostArray.articulo.MONTO_DESCUENTO = $event"  >
          </ion-input>
        </ion-col>
        <ion-col  size="12" size-md="4">
          <ion-label>% Imp.</ion-label>
          <ion-input name="IMPUESTO1"  (change)="actualizarValores()"   type="number" placeholder="impuesto" min="0"    [(ngModel)]="articuloPostArray.articulo.IMPUESTO1"    ></ion-input>
  
        </ion-col>
  
        <ion-col  size="12" size-md="4">
          <ion-label>Monto Imp.</ion-label>
          <ion-input name="MONTO_DESCUENTO"   readonly="true"   type="text" placeholder="monto impuesto"  [ngModel]="articuloPostArray.montoImpuesto | colones" (ngModelChange)="articuloPostArray.montoImpuesto = $event"  >
          </ion-input>
        </ion-col>
        <ion-col  size="12" size-md="4">
          <ion-label>Precio Desc.</ion-label>
          <ion-input name="precioDescuento"   readonly="true"  type="text" placeholder="precio descuento"    [ngModel]="articuloPostArray.precioDescuento | colones" (ngModelChange)="articuloPostArray.precioDescuento = $event" ></ion-input>
        </ion-col>
  
        <ion-col  size="12" size-md="4">
          <ion-label>Total</ion-label>
          <ion-input name="Total"   readonly="true" type="text" placeholder="Total" [ngModel]="articuloPostArray.Total | colones" (ngModelChange)="articuloPostArray.Total = $event"  ></ion-input>
        </ion-col>
       
        <ion-col  >
          <ion-button (click)="agregarArticulo()" expand="block" color="dark">
            Agregar Producto
          </ion-button>
 
        </ion-col>
  
  
      </ion-row>



    </ion-col>
  </ion-row>
</ion-grid>


</ion-content>
<ion-fab vertical="top" horizontal="end" slot="fixed">
  <ion-fab-button (click)="cerrarModal()" size="small" color="danger"> 
    <ion-icon name="close-outline"></ion-icon>
  </ion-fab-button>
</ion-fab>