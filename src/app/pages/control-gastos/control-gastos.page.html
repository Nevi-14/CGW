<ion-content >

  <ion-grid>


    <ion-row *ngIf="gastos.length == 0;"
      style="height: 100%;display: flex;justify-content: center;align-items: center;">
      <ion-col size="12">
        <ion-list>
          <ion-item lines="none">

            <ion-grid>
              <ion-row>
                <ion-col size="12" class="ion-text-center ion-margin-top">
                  <img height="150" src="assets/imgs/empty-box.svg" alt="">
                </ion-col>
                <ion-col size="12" class="ion-text-center">
                  <strong class="ion-text-capitalize">No hay datos que mostrar</strong>
                </ion-col>

              </ion-row>
            </ion-grid>

          </ion-item>
        </ion-list>
      </ion-col>
    </ion-row>


<div  *ngIf="gastos.length > 0;" style="height: 100vh;">
  
  <ion-row class="ion-padding">
    <ion-col size="12">

      <ion-header class="ion-no-border">
        <ion-toolbar class="ion-margin-bottom">
          <ion-title class="ion-text-uppercase title">Gastos Mensuales  <ion-badge color="primary" mode="ios">{{value1 | date }}</ion-badge> / <ion-badge color="primary" mode="ios">{{value2 | date }}</ion-badge></ion-title>
        </ion-toolbar>

      </ion-header>
    </ion-col>
    <ion-col size="12" size-md="6">

      <ion-list lines="full" class="fixed-scroll">


        <ion-item *ngFor="let gasto of gastos; let i = index;" detail>
          <ion-fab-button color="success" size="small" slot="start">
            {{gasto.gastos.length}}
          </ion-fab-button>
          <ion-label>{{gasto.gasto}}</ion-label>

        </ion-item>
        <ion-item lines="none" class="ion-padding">
          <ion-label slot="end" class="monto">Total : {{total | colones : 2 : '.' : ',' : '₡' }}</ion-label>
        </ion-item>
      </ion-list>
    </ion-col>
    <ion-col size="12" size-md="6" style="display: flex;justify-content: center;align-items: center;">

      <span [ngStyle]="{'min-height': chartHeight,'width': chartHeight}">
        <canvas baseChart [data]="pieChartData" [type]="pieChartType" [options]="pieChartOptions"
          [plugins]="pieChartPlugins">

        </canvas>
      </span>



    </ion-col>
   
  </ion-row>
</div>
    <div  style="height: 100vh;" *ngIf="gastos.length > 0;">
      <ion-row class="ion-padding">
        <ion-col  size="12">
       
               <ion-header class="ion-no-border">
                 <ion-toolbar>
                   <ion-title class="page-title">Control Viáticos</ion-title>
                   <ion-searchbar *ngIf="gastosArray.length > 0;" (ionChange)="onSearchChange($event)" slot="end"
                     style="width:30%;margin-top: 1rem;" mode="ios" placeholder="Buscar Colaborador" type="text"
                     [debounce]="250"></ion-searchbar>
                   <ion-fab-button size="small" class="margin-right" (click)="filtrarGastos()" slot="end" color="dark">
                     <ion-icon name="search"></ion-icon>
                   </ion-fab-button>
                   <ion-fab-button size="small" (click)="cargarDatos()" class="margin-right" slot="end" color="dark">
                     <ion-icon name="refresh"></ion-icon>
                   </ion-fab-button>
                 </ion-toolbar>
       
       
       
                 <ion-list *ngIf="gastosArray.length > 0;">
                   <ion-item lines="full">
                     <ion-grid>
                       <ion-row>
                         <ion-col>
                           <ion-label><strong>
                               Nombre
                             </strong></ion-label>
                         </ion-col>
                         <ion-col>
                           <ion-label><strong>
                               Tipo
                             </strong></ion-label>
                         </ion-col>
                         <ion-col>
                           <ion-label><strong>
                               Colaborador
                             </strong></ion-label>
                         </ion-col>
                         <ion-col>
                           <ion-label><strong>
                               Fecha
                             </strong></ion-label>
                         </ion-col>
       
                         <ion-col>
                           <ion-label><strong>
                               Monto
                             </strong></ion-label>
                         </ion-col>
                         <ion-col>
                           <ion-label><strong>
                               Detalle
                             </strong></ion-label>
                         </ion-col>
                         <ion-col>
       
                         </ion-col>
                       </ion-row>
                     </ion-grid>
                   </ion-item>
                 </ion-list>
               </ion-header>
       
       
             </ion-col>
             <ion-col size="12">
               <ion-list>
                 <ion-item lines="full" *ngFor="let gasto of gastosArray | filtro: textoBuscar:'usuario'">
                   <ion-grid>
                     <ion-row>
                       <ion-col>
                         <ion-label>
                             {{gasto.proveedor}}
                           </ion-label>
                       </ion-col>
                       <ion-col>
                         <ion-label>
                             {{gasto.justificacion}}
                          </ion-label>
                       </ion-col>
                       <ion-col>
                         <ion-label>
                             {{gasto.usuario}}
                          </ion-label>
                       </ion-col>
                       <ion-col>
                         <ion-label>
                             {{gasto.fecha | date }}
                          </ion-label>
                       </ion-col>
       
                       <ion-col>
                         <ion-label>
                             {{gasto.monto | colones }}
                           </ion-label>
                       </ion-col>
                       <ion-col>
                         <ion-label>
                             {{gasto.descripcion}}
                           </ion-label>
                       </ion-col>
                       <ion-col>
       
                       </ion-col>
                     </ion-row>
                   </ion-grid>
                 </ion-item>
       
               </ion-list>
       
             </ion-col>
       
           </ion-row>
       
    </div>
 

  </ion-grid>



</ion-content>